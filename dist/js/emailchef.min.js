"use strict";var WC_Emailchef=function(c){var i=wcec.namespace;return{settings:function(){c(document).on("click","#emailchef-disconnect",function(e){e.preventDefault(),confirm(wcec.disconnect_confirm)&&c.post(wcec.ajax_disconnect_url,{},function(e){e=c.parseJSON(e);"success"===e.type?window.location.reload():alert(e.text)})}),c(document).on("click","#wc_emailchef_create_list",function(e){e.preventDefault(),c(".ecwc-new-list-container").toggle()}),c(document).on("click","#wc_emailchef_sync_now",function(e){c.post(wcec.ajax_manual_sync_url,{},function(e){location.reload()})}),c(document).on("click",".ecwc-new-list-container .woocommerce-undo-button",function(e){e.preventDefault(),c(".ecwc-new-list-container").hide()}),c(document).on("click",".ecwc-new-list-container .woocommerce-save-button",function(e){var t;e.preventDefault(),c(this).attr("disabled","disabled"),e=c("#"+i+"_new_name").val(),t=c("#"+i+"_new_description").val(),c(".ecwc-new-list-container button").attr("disabled","disabled"),c.post(ajaxurl,{action:i+"_add_list",data:{list_name:e,list_desc:t}},function(e){c(".ecwc-new-list-container").hide(),c(".ecwc-new-list-container button").removeAttr("disabled");var t,e=c.parseJSON(e);"success"===e.type?(t=e.list_id,c(".ecwc-new-list-container button").attr("disabled","disabled"),c.post(wcec.ajax_lists_url,{},function(e){var n,e=c.parseJSON(e);"success"===e.type&&(n=[],c.each(e.lists,function(e,t){n.push({text:t,id:e})}),c("#"+i+"_list").empty().select2({data:n}),c("#"+i+"_list").val(t).trigger("change"))})):alert(e.msg)})});var e=document.getElementById("showPassword"),t=document.getElementById("hidePassword"),n=document.getElementById(i+"_consumer_secret");e&&e.addEventListener("click",function(){n.setAttribute("type","text"),e.style.display="none",t.style.display="flex"});t&&t.addEventListener("click",function(){n.setAttribute("type","password"),e.style.display="flex",t.style.display="none"})}}}(jQuery);