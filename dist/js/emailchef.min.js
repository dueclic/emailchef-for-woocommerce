"use strict";var WC_Emailchef=function(n){var i="wc_emailchef";return{go:function(){n(document).on("click","#emailchef-disconnect",function(e){e.preventDefault(),confirm(wcec.disconnect_confirm)&&n.post(ajaxurl,{action:i+"_disconnect",data:{}},function(e){"success"===n.parseJSON(e).type&&window.location.reload()})}),n(document).on("click","#wc_emailchef_create_list",function(e){e.preventDefault(),n(".ecwc-new-list-container").show()}),n(document).on("click",".ecwc-new-list-container .woocommerce-undo-button",function(e){e.preventDefault(),n(".ecwc-new-list-container").hide()}),n(document).on("click",".ecwc-new-list-container .woocommerce-save-button",function(e){var t;e.preventDefault(),n(this).attr("disabled","disabled"),e=n("#"+i+"_new_name").val(),t=n("#"+i+"_new_description").val(),n(".ecwc-new-list-container button").attr("disabled","disabled"),n.post(ajaxurl,{action:i+"_add_list",data:{list_name:e,list_desc:t}},function(e){n(".ecwc-new-list-container").hide(),n(".ecwc-new-list-container button").removeAttr("disabled");var t,e=n.parseJSON(e);"success"===e.type?(t=e.list_id,n(".ecwc-new-list-container button").attr("disabled","disabled"),n.post(ajaxurl,{action:i+"_lists"},function(e){var c,e=n.parseJSON(e);"success"===e.type&&(c=[],n.each(e.lists,function(e,t){c.push({text:t,id:e})}),n("#"+i+"_list").empty().select2({data:c}),n("#"+i+"_list").val(t).trigger("change"))})):alert(e.msg)})})}}}(jQuery);